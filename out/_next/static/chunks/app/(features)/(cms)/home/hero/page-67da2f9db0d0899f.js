(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[621],{8569:(e,t,a)=>{"use strict";a.d(t,{default:()=>m});var s=a(95155),l=a(12115),r=a(16807),n=a(24706),c=a(29911);let i="https://super-admin-eta.vercel.app/section/home/hero",o="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4M2M0OTZhNzU5OGY3MzM4MWZjMTg0ZiIsImlhdCI6MTc0ODc4MjA4N30.0JHq33-UvdODuUhfgGFYATU4J_1hG--vkMt1oqiFIZ4",d={getHero:async()=>{let e=await fetch(i,{headers:{Authorization:"Bearer ".concat(o)}});if(!e.ok)throw Error("Failed to fetch hero data");return(await e.json()).section},updateHero:async e=>{let{arabic:t,english:a}=e;console.log("\uD83D\uDCDD Updating hero content:",{arabic:t,english:a});try{let e=new FormData;t&&e.append("arabic",JSON.stringify(t)),a&&e.append("english",JSON.stringify(a));let s=await fetch(i,{method:"PUT",headers:{Authorization:"Bearer ".concat(o)},body:e}),l=await s.text();if(console.log("\uD83D\uDCC4 Update response:",l),!s.ok){let e="Failed to update hero";try{let t=JSON.parse(l);e=t.message||t.error||e}catch(t){e=l||"HTTP ".concat(s.status,": ").concat(s.statusText)}throw Error(e)}try{let e=JSON.parse(l);return console.log("✅ Parsed update response:",e),e.section||e.slider||e}catch(e){throw Error("Invalid response format")}}catch(e){throw console.error("❌ Update error:",e),e}},updateHeroImage:async e=>{try{console.log("\uD83D\uDCF8 Updating hero image:",e.name,e.size);let t=new FormData;t.append("images",e);let a=await fetch("".concat(i,"/images"),{method:"PUT",headers:{Authorization:"Bearer ".concat(o)},body:t}),s=await a.text();if(console.log("\uD83D\uDCC4 Image update response:",s),!a.ok){let e="Failed to update hero image";try{let t=JSON.parse(s);e=t.message||t.error||e}catch(t){e=s||"HTTP ".concat(a.status,": ").concat(a.statusText)}throw Error(e)}try{let e=JSON.parse(s);return console.log("✅ Parsed image update response:",e),e.section||e.slider||e}catch(e){throw Error("Invalid response format")}}catch(e){throw console.error("❌ Image update error:",e),e}}};function m(){var e,t,a,i,o,m,h,u,b;let[j,x]=(0,l.useState)(null),[p,v]=(0,l.useState)(!0),[g,f]=(0,l.useState)(null),[N,y]=(0,l.useState)(!1),[w,O]=(0,l.useState)(null),[C,I]=(0,l.useState)(null),[S,E]=(0,l.useState)(null);(0,l.useEffect)(()=>{k()},[]),(0,l.useEffect)(()=>{if(S){let e=setTimeout(()=>{E(null)},3e3);return()=>clearTimeout(e)}},[S]);let k=async()=>{try{v(!0);let e=await d.getHero();x(e),f(null)}catch(e){f(e instanceof Error?e.message:"Failed to load hero data")}finally{v(!1)}},P=()=>{j&&(O({...j}),I(null),y(!0))},A=()=>{y(!1),O(null),I(null)},T=async()=>{if(w)try{v(!0),f(null);let e=await d.updateHero(w);x(e),y(!1),O(null),I(null),E("Hero content updated successfully!"),console.log("✅ Hero content updated successfully!")}catch(e){f(e instanceof Error?e.message:"Failed to save hero data")}finally{v(!1)}},H=async()=>{if(C)try{v(!0),f(null);let e=await d.updateHeroImage(C);x(e),O(e),I(null),E("Image uploaded successfully!"),console.log("✅ Image uploaded successfully!"),await k()}catch(e){f(e instanceof Error?e.message:"Failed to upload image")}finally{v(!1)}},D=(e,t,a)=>{w&&(a?O({...w,[a]:{...w[a],[e]:t}}):O({...w,[e]:t}))};return p?(0,s.jsxs)("div",{className:"page-wrapper",children:[(0,s.jsx)("div",{className:"content",children:(0,s.jsx)("div",{className:"card",children:(0,s.jsx)("div",{className:"card-body text-center",children:(0,s.jsx)("h5",{children:"Loading hero data..."})})})}),(0,s.jsx)(r.A,{})]}):g?(0,s.jsxs)("div",{className:"page-wrapper",children:[(0,s.jsx)("div",{className:"content",children:(0,s.jsx)("div",{className:"card",children:(0,s.jsxs)("div",{className:"card-body text-center",children:[(0,s.jsxs)("h5",{className:"text-danger",children:["Error: ",g]}),(0,s.jsx)("button",{className:"btn btn-primary mt-2",onClick:k,children:"Try Again"})]})})}),(0,s.jsx)(r.A,{})]}):(0,s.jsxs)("div",{className:"page-wrapper",children:[(0,s.jsxs)("div",{className:"content",children:[S&&(0,s.jsxs)("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[(0,s.jsx)("strong",{children:"Success!"})," ",S,(0,s.jsx)("button",{type:"button",className:"btn-close",onClick:()=>E(null)})]}),(0,s.jsxs)("div",{className:"d-lg-flex align-items-center justify-content-between mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"mb-1",children:"Hero Section Management"}),(0,s.jsx)("p",{children:"Manage your website hero section content"})]}),(0,s.jsxs)("ul",{className:"table-top-head",children:[(0,s.jsx)("li",{children:(0,s.jsxs)("button",{className:"btn btn-primary",onClick:P,children:[(0,s.jsx)(c.uO9,{className:"me-1"})," Edit Hero"]})}),(0,s.jsx)(n.default,{})]})]}),(0,s.jsx)("div",{className:"card",children:(0,s.jsx)("div",{className:"card-body",children:(0,s.jsx)("div",{className:"table-responsive",children:(0,s.jsxs)("table",{className:"table table-hover",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"ID"}),(0,s.jsx)("th",{children:"Title (EN)"}),(0,s.jsx)("th",{children:"Title (AR)"}),(0,s.jsx)("th",{children:"Content (EN)"}),(0,s.jsx)("th",{children:"Content (AR)"}),(0,s.jsx)("th",{children:"Images"}),(0,s.jsx)("th",{children:"Actions"})]})}),(0,s.jsx)("tbody",{children:j?(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:j._id?j._id.substring(0,8)+"...":"N/A"}),(0,s.jsx)("td",{children:(null===(e=j.english)||void 0===e?void 0:e.title)||"N/A"}),(0,s.jsx)("td",{children:(null===(t=j.arabic)||void 0===t?void 0:t.title)||"N/A"}),(0,s.jsx)("td",{children:(null===(a=j.english)||void 0===a?void 0:a.content)?j.english.content.substring(0,50)+"...":"N/A"}),(0,s.jsx)("td",{children:(null===(i=j.arabic)||void 0===i?void 0:i.content)?j.arabic.content.substring(0,50)+"...":"N/A"}),(0,s.jsxs)("td",{children:[(null===(o=j.images)||void 0===o?void 0:o.length)||0," image(s)"]}),(0,s.jsx)("td",{children:(0,s.jsx)("button",{className:"btn btn-sm btn-outline-primary",onClick:P,children:(0,s.jsx)(c.uO9,{})})})]}):(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:7,className:"text-center",children:"No hero data available"})})})]})})})})]}),N&&w&&(0,s.jsx)("div",{className:"modal fade show",style:{display:"block"},children:(0,s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:(0,s.jsxs)("div",{className:"modal-content",children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h5",{className:"modal-title",children:"Edit Hero Section"}),(0,s.jsx)("button",{type:"button",className:"btn-close",onClick:A})]}),(0,s.jsxs)("div",{className:"modal-body",children:[(0,s.jsxs)("ul",{className:"nav nav-tabs mb-3",children:[(0,s.jsx)("li",{className:"nav-item",children:(0,s.jsx)("a",{className:"nav-link active","data-bs-toggle":"tab",href:"#english",children:"English"})}),(0,s.jsx)("li",{className:"nav-item",children:(0,s.jsx)("a",{className:"nav-link","data-bs-toggle":"tab",href:"#arabic",children:"Arabic"})})]}),(0,s.jsxs)("div",{className:"tab-content",children:[(0,s.jsxs)("div",{className:"tab-pane active",id:"english",children:[(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Title"}),(0,s.jsx)("input",{type:"text",className:"form-control",value:(null===(m=w.english)||void 0===m?void 0:m.title)||"",onChange:e=>D("title",e.target.value,"english")})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Content"}),(0,s.jsx)("textarea",{className:"form-control",rows:4,value:(null===(h=w.english)||void 0===h?void 0:h.content)||"",onChange:e=>D("content",e.target.value,"english")})]})]}),(0,s.jsxs)("div",{className:"tab-pane",id:"arabic",children:[(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"العنوان"}),(0,s.jsx)("input",{type:"text",className:"form-control",value:(null===(u=w.arabic)||void 0===u?void 0:u.title)||"",onChange:e=>D("title",e.target.value,"arabic"),dir:"rtl"})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"المحتوى"}),(0,s.jsx)("textarea",{className:"form-control",rows:4,value:(null===(b=w.arabic)||void 0===b?void 0:b.content)||"",onChange:e=>D("content",e.target.value,"arabic"),dir:"rtl"})]})]})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,s.jsx)("label",{className:"form-label mb-0",children:"Images"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{type:"file",id:"heroImages",accept:"image/*",onChange:e=>{e.target.files&&e.target.files[0]&&I(e.target.files[0])},className:"d-none"}),(0,s.jsxs)("label",{htmlFor:"heroImages",className:"btn btn-outline-success btn-sm me-2",children:[(0,s.jsx)(c.HVe,{className:"me-1"})," Select Image"]}),C&&(0,s.jsxs)("button",{type:"button",className:"btn btn-success btn-sm",onClick:H,disabled:p,children:[(0,s.jsx)(c.HVe,{className:"me-1"}),"Upload Image"]})]})]}),C&&(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("h6",{className:"text-primary",children:"Selected Image for Upload:"}),(0,s.jsx)("div",{className:"card border-primary",children:(0,s.jsxs)("div",{className:"card-body p-2 text-center",children:[(0,s.jsx)("small",{className:"text-primary fw-bold",children:C.name}),(0,s.jsx)("br",{}),(0,s.jsxs)("small",{className:"text-muted",children:[(C.size/1024/1024).toFixed(2)," MB"]})]})})]}),(0,s.jsx)("div",{className:"row",children:w.images.map((e,t)=>(0,s.jsx)("div",{className:"col-md-4 mb-3",children:(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("img",{src:e.secure_url,alt:"Hero image ".concat(t+1),className:"card-img-top",style:{height:"150px",objectFit:"cover"}}),(0,s.jsx)("div",{className:"card-body p-2",children:(0,s.jsx)("small",{className:"text-muted d-block",children:e.public_id})})]})},e._id))})]})]}),(0,s.jsxs)("div",{className:"modal-footer",children:[(0,s.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:A,children:"Cancel"}),(0,s.jsx)("button",{type:"button",className:"btn btn-primary",onClick:T,disabled:p,children:p?"Saving...":"Save Changes"})]})]})})}),(0,s.jsx)(r.A,{})]})}},16807:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var s=a(95155),l=a(6874),r=a.n(l);function n(){return(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"footer d-sm-flex align-items-center justify-content-between border-top bg-white p-3",children:[(0,s.jsx)("p",{className:"mb-0",children:"2014 - 2025 \xa9 DreamsPOS. All Right Reserved"}),(0,s.jsxs)("p",{children:["Designed & Developed by"," ",(0,s.jsx)(r(),{href:"#",className:"text-primary",children:"Dreams"})]})]})})}},21958:(e,t,a)=>{Promise.resolve().then(a.bind(a,8569))},24706:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});var s=a(95155),l=a(12115),r=a(11557),n=a(6874),c=a.n(n);let i=()=>{let[e,t]=(0,l.useState)(!1),a=()=>{let a=!e;t(a),a?document.body.classList.add("header-collapse"):document.body.classList.remove("header-collapse")};return(0,s.jsx)("li",{className:"collapse-icons",children:(0,s.jsx)(r.A,{title:"Collapse",children:(0,s.jsx)(c(),{href:"#",id:"collapse-header",className:"".concat(e?"active":""),onClick:e=>{e.preventDefault(),a()},children:(0,s.jsx)("i",{className:"ti ".concat(e?"ti-chevron-down":"ti-chevron-up")})})})})}},74436:(e,t,a)=>{"use strict";a.d(t,{k5:()=>d});var s=a(12115),l={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},r=s.createContext&&s.createContext(l),n=["attr","size","title"];function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach(function(t){var s,l,r;s=e,l=t,r=a[t],(l=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var s=a.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(l))in s?Object.defineProperty(s,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[l]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function d(e){return t=>s.createElement(m,c({attr:o({},e.attr)},t),function e(t){return t&&t.map((t,a)=>s.createElement(t.tag,o({key:a},t.attr),e(t.child)))}(e.child))}function m(e){var t=t=>{var a,{attr:l,size:r,title:i}=e,d=function(e,t){if(null==e)return{};var a,s,l=function(e,t){if(null==e)return{};var a={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;a[s]=e[s]}return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)a=r[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}(e,n),m=r||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),s.createElement("svg",c({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,l,d,{className:a,style:o(o({color:e.color||t.color},t.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),i&&s.createElement("title",null,i),e.children)};return void 0!==r?s.createElement(r.Consumer,null,e=>t(e)):t(l)}}},e=>{var t=t=>e(e.s=t);e.O(0,[6711,6874,1792,1557,8441,1684,7358],()=>t(21958)),_N_E=e.O()}]);